;/*FB_PKG_DELIM*/

__d("ProfileCometActionFollowHandler_handler.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometActionFollowHandler_handler",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile_owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"render_location",storageKey:null}],storageKey:null}],type:"ProfileActionFollowHandler",abstractKey:null};e.exports=a}),null);
__d("ProfileCometActionFollowHandler.react",["CometRelay","CometTrackingCodeContext","ProfileCometActionFollowHandler_handler.graphql","ProfilePlusFollowChainingContext.react","react","react-forget-runtime","recoverableViolation","requireDeferred","useMinifiedProductAttribution"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");e.useCallback;e.useContext;var j=e.useState,k=e.c,l=c("requireDeferred")("CometUserFollowMutation").__setRef("ProfileCometActionFollowHandler.react"),m=c("requireDeferred")("CometUserUnfollowMutation").__setRef("ProfileCometActionFollowHandler.react");function a(a){var e=k(16),f=a.children,g=a.handler;a=a.source;var i=j(!1),p=i[0],q=i[1],r=d("CometRelay").useRelayEnvironment();i=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(c("CometTrackingCodeContext"),o);var s=i.encrypted_tracking;i=d("CometRelay").useFragment(h!==void 0?h:h=b("ProfileCometActionFollowHandler_handler.graphql"),g);var t=((g=i.profile_action)==null?void 0:(g=g.profile_owner)==null?void 0:g.id)||"";g=f;var u=(f=i.profile_action)==null?void 0:(f=f.profile_owner)==null?void 0:f.subscribe_status,v=((f=i.profile_action)==null?void 0:f.render_location)||"WWW_COMET_FRIEND_MENU";i=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(d("ProfilePlusFollowChainingContext.react").ProfilePlusFollowChainingContext,n);var w=i.setIsLike,x=i.setShouldShowFollowChaining,y=a==="WWW_COMET_ADS",z=c("useMinifiedProductAttribution")();e[0]!==v||e[1]!==y||e[2]!==z||e[3]!==s||e[4]!==t||e[5]!==u||e[6]!==r||e[7]!==w||e[8]!==x?(f=function(){q(!0);var a={actionRenderLocation:v,isTrackingEncrypted:y,navigationChain:z,onError:function(){q(!1)},onSuccess:function(){q(!1)},subscribeLocation:"PROFILE",tracking:y?s:null,userID:t};u==="CAN_SUBSCRIBE"?(l.onReady(function(b){b=b.enqueue;return b(r,babelHelpers["extends"]({},a),!0)}),w(!1),x(!0)):u==="IS_SUBSCRIBED"&&m.onReady(function(b){b=b.enqueue;return b(r,a,!0)})},e[0]=v,e[1]=y,e[2]=z,e[3]=s,e[4]=t,e[5]=u,e[6]=r,e[7]=w,e[8]=x,e[9]=f):f=e[9];i=f;if(u==="CANNOT_SUBSCRIBE"){c("recoverableViolation")("Rendering follow action for user that cannot be followed","profile_comet");e[10]!==g?(a=g({disabled:!0}),e[10]=g,e[11]=a):a=e[11];return a}e[12]!==p||e[13]!==i||e[14]!==g?(f=g({disabled:p,onPress:i}),e[12]=p,e[13]=i,e[14]=g,e[15]=f):f=e[15];return f}function n(a){return[a.setIsLike,a.setShouldShowFollowChaining]}function o(a){return[a.encrypted_tracking]}g["default"]=a}),98);
__d("ProfileCometActionFollowHandler_handler$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"ProfileCometActionFollowHandler_handler$normalization",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile_owner",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"render_location",storageKey:null},a],storageKey:null}]}}();e.exports=a}),null);